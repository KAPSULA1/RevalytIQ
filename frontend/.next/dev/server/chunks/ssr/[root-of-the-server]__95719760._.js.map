{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///home/kapo/Projects/RevalytIQ/frontend/app/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,yaAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgR,GAC7S,8CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/kapo/Projects/RevalytIQ/frontend/app/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,yaAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,0BACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///home/kapo/Projects/RevalytIQ/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { FormEvent, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { isAxiosError } from \"axios\";\nimport { login } from \"@/lib/auth\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n\n    if (!username.trim() || !password.trim()) {\n      setError(\"Please enter both username and password.\");\n      return;\n    }\n\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const data = await login(username.trim(), password.trim());\n\n      // ✅ შეინახე ტოკენები\n      localStorage.setItem(\"access\", data.access);\n      localStorage.setItem(\"refresh\", data.refresh);\n\n      // ✅ გადადი dashboard-ზე\n      router.push(\"/dashboard\");\n    } catch (err) {\n      if (isAxiosError(err)) {\n        if (err.response?.status === 401) {\n          setError(\"Invalid username or password.\");\n        } else {\n          setError(\"Login failed. Try again later.\");\n        }\n      } else {\n        setError(\"Unexpected error occurred.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"bg-white shadow-lg rounded-2xl p-6 w-96 flex flex-col gap-4\"\n      >\n        <h2 className=\"text-2xl font-semibold text-center\">RevalytIQ Login</h2>\n\n        <input\n          type=\"text\"\n          placeholder=\"Username\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          className=\"border p-2 rounded-lg\"\n        />\n\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          className=\"border p-2 rounded-lg\"\n        />\n\n        {error && <p className=\"text-red-500 text-sm text-center\">{error}</p>}\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-70\"\n        >\n          {loading ? \"Signing in...\" : \"Sign In\"}\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":["useState","useRouter","isAxiosError","login","jsx","_jsx","jsxs","_jsxs","LoginPage","router","username","setUsername","password","setPassword","error","setError","loading","setLoading","handleSubmit","e","preventDefault","trim","data","localStorage","setItem","access","refresh","push","err","response","status","className","children","onSubmit","type","placeholder","value","onChange","target","disabled"],"mappings":"","ignoreList":[],"debugId":null}}]
}